<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Global - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="FormUrlEncoded.html">FormUrlEncoded</a><ul class='methods'><li data-type='method'><a href="FormUrlEncoded.html#append">append</a></li><li data-type='method'><a href="FormUrlEncoded.html#delete">delete</a></li><li data-type='method'><a href="FormUrlEncoded.html#set">set</a></li><li data-type='method'><a href="FormUrlEncoded.html#str">str</a></li><li data-type='method'><a href="FormUrlEncoded.html#url">url</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="module-TeraBoxApp.html">TeraBoxApp</a><ul class='methods'><li data-type='method'><a href="module-TeraBoxApp.html#checkLogin">checkLogin</a></li><li data-type='method'><a href="module-TeraBoxApp.html#clearRecycleBin">clearRecycleBin</a></li><li data-type='method'><a href="module-TeraBoxApp.html#createDir">createDir</a></li><li data-type='method'><a href="module-TeraBoxApp.html#createFile">createFile</a></li><li data-type='method'><a href="module-TeraBoxApp.html#doReq">doReq</a></li><li data-type='method'><a href="module-TeraBoxApp.html#download">download</a></li><li data-type='method'><a href="module-TeraBoxApp.html#fileDiff">fileDiff</a></li><li data-type='method'><a href="module-TeraBoxApp.html#filemanager">filemanager</a></li><li data-type='method'><a href="module-TeraBoxApp.html#genPanToken">genPanToken</a></li><li data-type='method'><a href="module-TeraBoxApp.html#getCategoryList">getCategoryList</a></li><li data-type='method'><a href="module-TeraBoxApp.html#getCoinsCount">getCoinsCount</a></li><li data-type='method'><a href="module-TeraBoxApp.html#getCurrentUserInfo">getCurrentUserInfo</a></li><li data-type='method'><a href="module-TeraBoxApp.html#getFileMeta">getFileMeta</a></li><li data-type='method'><a href="module-TeraBoxApp.html#getHomeInfo">getHomeInfo</a></li><li data-type='method'><a href="module-TeraBoxApp.html#getPublicKey">getPublicKey</a></li><li data-type='method'><a href="module-TeraBoxApp.html#getQuota">getQuota</a></li><li data-type='method'><a href="module-TeraBoxApp.html#getRecentUploads">getRecentUploads</a></li><li data-type='method'><a href="module-TeraBoxApp.html#getRecycleBin">getRecycleBin</a></li><li data-type='method'><a href="module-TeraBoxApp.html#getRemoteDir">getRemoteDir</a></li><li data-type='method'><a href="module-TeraBoxApp.html#getStream">getStream</a></li><li data-type='method'><a href="module-TeraBoxApp.html#getSysCfg">getSysCfg</a></li><li data-type='method'><a href="module-TeraBoxApp.html#getUploadHost">getUploadHost</a></li><li data-type='method'><a href="module-TeraBoxApp.html#getUserInfo">getUserInfo</a></li><li data-type='method'><a href="module-TeraBoxApp.html#passportGetInfo">passportGetInfo</a></li><li data-type='method'><a href="module-TeraBoxApp.html#passportLogin">passportLogin</a></li><li data-type='method'><a href="module-TeraBoxApp.html#passportPreLogin">passportPreLogin</a></li><li data-type='method'><a href="module-TeraBoxApp.html#precreateFile">precreateFile</a></li><li data-type='method'><a href="module-TeraBoxApp.html#rapidUpload">rapidUpload</a></li><li data-type='method'><a href="module-TeraBoxApp.html#regFinish">regFinish</a></li><li data-type='method'><a href="module-TeraBoxApp.html#regSendCode">regSendCode</a></li><li data-type='method'><a href="module-TeraBoxApp.html#regVerify">regVerify</a></li><li data-type='method'><a href="module-TeraBoxApp.html#remoteUpload">remoteUpload</a></li><li data-type='method'><a href="module-TeraBoxApp.html#setVipDefaults">setVipDefaults</a></li><li data-type='method'><a href="module-TeraBoxApp.html#shareCancel">shareCancel</a></li><li data-type='method'><a href="module-TeraBoxApp.html#shareList">shareList</a></li><li data-type='method'><a href="module-TeraBoxApp.html#shareSet">shareSet</a></li><li data-type='method'><a href="module-TeraBoxApp.html#shortUrlInfo">shortUrlInfo</a></li><li data-type='method'><a href="module-TeraBoxApp.html#shortUrlList">shortUrlList</a></li><li data-type='method'><a href="module-TeraBoxApp.html#updateAppData">updateAppData</a></li><li data-type='method'><a href="module-TeraBoxApp.html#uploadChunk">uploadChunk</a></li><li data-type='method'><a href="module-TeraBoxApp.html#userMembership">userMembership</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#changeBase64Type">changeBase64Type</a></li><li><a href="global.html#checkMd5arr">checkMd5arr</a></li><li><a href="global.html#checkMd5val">checkMd5val</a></li><li><a href="global.html#decodeMd5">decodeMd5</a></li><li><a href="global.html#decryptAES">decryptAES</a></li><li><a href="global.html#encryptRSA">encryptRSA</a></li><li><a href="global.html#makeRemoteFPath">makeRemoteFPath</a></li><li><a href="global.html#prandGen">prandGen</a></li><li><a href="global.html#signDownload">signDownload</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">Global</h1>
    

    




<section>

<header>
    
        <h2>
        
            
        
        </h2>
        
    
</header>

<article>
    
        <div class="container-overview">
        
            

<dl class="details">
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




            

            
        
        </div>
    

    

    

    
    
    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="changeBase64Type"><span class="type-signature"></span>changeBase64Type<span class="signature">(str, mode<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {string}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Converts between standard and URL-safe Base64 encoding formats

Base64 strings may contain '+', '/' and '=' characters that need to be replaced
for safe use in URLs. This function provides bidirectional conversion:
- Mode 1: Converts to URL-safe Base64 (RFC 4648 ยง5)
- Mode 2: Converts back to standard Base64</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="api.js.html">api.js</a>, <a href="api.js.html#line257">line 257</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://tools.ietf.org/html/rfc4648#section-5">RFC 4648 ยง5</a> for URL-safe Base64</li>
        </ul>
    </dd>
    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>// To URL-safe Base64
changeBase64Type('a+b/c=') // returns 'a-b_c='

// To standard Base64
changeBase64Type('a-b_c=', 2) // returns 'a+b/c='</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>str</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The Base64 string to convert</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mode</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>1</code>
                
                </td>
            

            <td class="description last">Conversion direction:
                           1 = to URL-safe (default),
                           2 = to standard</td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    The converted Base64 string
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="checkMd5arr"><span class="type-signature"></span>checkMd5arr<span class="signature">(arr)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Validates that all elements in an array are properly formatted MD5 hashes

Checks if:
1. The input is an array
2. Every element in the array passes checkMd5val() validation
   (32-character hexadecimal strings in lowercase)</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="api.js.html">api.js</a>, <a href="api.js.html#line184">line 184</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>checkMd5val For individual MD5 hash validation logic</li>
        </ul>
    </dd>
    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>checkMd5arr(['d41d8cd98f00b204e9800998ecf8427e', '5d41402abc4b2a76b9719d911017c592']) // true
checkMd5arr(['d41d8cd98f00b204e9800998ecf8427e', 'invalid']) // false
checkMd5arr('not an array') // false
checkMd5arr([]) // false (empty array is considered invalid)</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>arr</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>



            
            </td>

            

            

            <td class="description last">The array to validate</td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    True if all elements are valid MD5 hashes, false otherwise
                  (also returns false if input is not an array)
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="checkMd5val"><span class="type-signature"></span>checkMd5val<span class="signature">(md5)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Validates whether a string is a properly formatted MD5 hash

Checks if the input:
1. Is exactly 32 characters long
2. Contains only hexadecimal characters (a-f, 0-9)
3. Is in lowercase

Note: This only validates the format, not the cryptographic correctness of the hash.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="api.js.html">api.js</a>, <a href="api.js.html#line160">line 160</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>checkMd5val('d41d8cd98f00b204e9800998ecf8427e') // returns true
checkMd5val('D41D8CD98F00B204E9800998ECF8427E') // returns false (uppercase)
checkMd5val('z41d8cd98f00b204e9800998ecf8427e') // returns false (invalid character)
checkMd5val('d41d8cd98f')                      // returns false (too short)</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>md5</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>



            
            </td>

            

            

            <td class="description last">The value to check (typically a string)</td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    True if the input is a valid MD5 format, false otherwise
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="decodeMd5"><span class="type-signature"></span>decodeMd5<span class="signature">(md5)</span><span class="type-signature"> &rarr; {string}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Applies a custom transformation to what appears to be an MD5 hash

This function performs a series of reversible transformations on an input string
that appears to be an MD5 hash (32 hexadecimal characters). The transformation includes:
1. Character restoration at position 9
2. XOR operation with position-dependent values
3. Byte reordering of the result</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="api.js.html">api.js</a>, <a href="api.js.html#line209">line 209</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>decodeMd5('a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6') // returns transformed value
decodeMd5('short') // returns 'short' (unchanged)</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>md5</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last">The input string (expected to be 32 hexadecimal characters)</td>
        </tr>

    
    </tbody>
</table>














<h5 class="h5-throws">Throws:</h5>

        

    <div class="param-desc usertext">
    
        Will return the original input unchanged if length is not 32
    
    </div>


    


<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    The transformed result (32 hexadecimal characters)
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="decryptAES"><span class="type-signature"></span>decryptAES<span class="signature">(pp1, pp2)</span><span class="type-signature"> &rarr; {string}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Decrypts AES-128-CBC encrypted data using provided parameters

This function:
1. Converts both parameters from URL-safe Base64 to standard Base64
2. Extracts the IV (first 16 bytes) and ciphertext from pp1
3. Uses pp2 as the decryption key
4. Performs AES-128-CBC decryption</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="api.js.html">api.js</a>, <a href="api.js.html#line288">line 288</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>changeBase64Type For Base64 format conversion</li>
        </ul>
    </dd>
    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>// Example usage (with actual encrypted data)
const decrypted = decryptAES(
    'MTIzNDU2Nzg5MDEyMzQ1Ng==...',  // IV + ciphertext
    'c2VjcmV0LWtleS1kYXRhCg=='      // Key
);</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>pp1</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last">Combined IV and ciphertext in URL-safe Base64 format:
                     First 16 bytes are IV, remainder is ciphertext</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>pp2</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last">Encryption key in URL-safe Base64 format</td>
        </tr>

    
    </tbody>
</table>




<h5 class="h5-requires">Requires:</h5>
<ul>
    <li>module:crypto</li>
</ul>











<h5 class="h5-throws">Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc usertext">
        May throw errors for invalid inputs or decryption failures
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl class="param-type">
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>



            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    The decrypted UTF-8 string
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="encryptRSA"><span class="type-signature"></span>encryptRSA<span class="signature">(message, publicKeyPEM, mode<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {string}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Encrypts data using RSA with a public key, with optional MD5 preprocessing

Supports two encryption modes:
1. Direct encryption of the message (default)
2. MD5 hash preprocessing (applies MD5 + length padding before encryption)</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="api.js.html">api.js</a>, <a href="api.js.html#line332">line 332</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>// Direct encryption
encryptRSA('secret message', publicKey);

// With MD5 preprocessing
encryptRSA('secret message', publicKey, 2);</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The plaintext message to encrypt</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>publicKeyPEM</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Buffer</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">RSA public key in PEM format</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mode</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>1</code>
                
                </td>
            

            <td class="description last">Encryption mode:
                           1 = direct encryption,
                           2 = MD5 hash preprocessing</td>
        </tr>

    
    </tbody>
</table>




<h5 class="h5-requires">Requires:</h5>
<ul>
    <li>module:crypto</li>
</ul>











<h5 class="h5-throws">Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc usertext">
        May throw errors for invalid keys or encryption failures
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl class="param-type">
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>



            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    Base64-encoded encrypted data
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="makeRemoteFPath"><span class="type-signature"></span>makeRemoteFPath<span class="signature">(sdir, sfile)</span><span class="type-signature"> &rarr; {string}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Constructs a remote file path by combining a directory and filename, ensuring proper slash formatting</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="api.js.html">api.js</a>, <a href="api.js.html#line18">line 18</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>makeRemoteFPath('documents', 'file.txt')    // returns 'documents/file.txt'
makeRemoteFPath('documents/', 'file.txt')   // returns 'documents/file.txt'</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>sdir</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last">The directory path (with or without trailing slash)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sfile</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last">The filename to append to the directory path</td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    The combined full path with exactly one slash between directory and filename
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="prandGen"><span class="type-signature"></span>prandGen<span class="signature">(client<span class="signature-attributes">opt</span>, seval, encpwd, email, browserid<span class="signature-attributes">opt</span>, random)</span><span class="type-signature"> &rarr; {string}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Generates a pseudo-random SHA-1 hash from combined client parameters

Creates a deterministic hash value by combining multiple client-specific parameters.
This is typically used for generating session tokens or unique identifiers.</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="api.js.html">api.js</a>, <a href="api.js.html#line377">line 377</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>// Basic usage
const token = prandGen('web', 'session123', 'encryptedPwd', 'user@example.com', 'browser123', 'randomValue');

// With default client and empty browserid
const token = prandGen(undefined, 'session123', 'encryptedPwd', 'user@example.com', '', 'randomValue');</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>client</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>'web'</code>
                
                </td>
            

            <td class="description last">Client identifier (e.g., 'web', 'mobile')</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>seval</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Session evaluation parameter</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>encpwd</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Encrypted password or password hash</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>email</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">User's email address</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>browserid</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>''</code>
                
                </td>
            

            <td class="description last">Browser fingerprint or identifier</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>random</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Random value</td>
        </tr>

    
    </tbody>
</table>




<h5 class="h5-requires">Requires:</h5>
<ul>
    <li>module:crypto</li>
</ul>













<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    SHA-1 hash of the combined parameters (40-character hex string)
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="signDownload"><span class="type-signature"></span>signDownload<span class="signature">(s1, s2)</span><span class="type-signature"> &rarr; {string}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li>Generates a signed download token using a modified RC4-like algorithm

This function implements a stream cipher similar to RC4 that:
1. Initializes a permutation array using the secret key (s1)
2. Generates a pseudorandom keystream
3. XORs the input data (s2) with the keystream
4. Returns the result as a Base64-encoded string</li></ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="api.js.html">api.js</a>, <a href="api.js.html#line107">line 107</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const signature = signDownload('secret-key', 'data-to-sign');
// Returns something like: "X3p8YFJjUA=="</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>s1</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last">The secret key used for signing (should be at least 1 character)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>s2</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last">The input data to be signed</td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    Base64-encoded signature
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>

    



        
    

    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> on Thu Aug 28 2025 11:19:43 (UTC) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>